{"version":3,"file":"script.js","sources":["../node_modules/@ungap/weakmap/esm/index.js","../node_modules/@ungap/essential-weakset/esm/index.js","../node_modules/@ungap/essential-map/esm/index.js","../node_modules/domdiff/esm/utils.js","../node_modules/domdiff/esm/index.js","../node_modules/@ungap/custom-event/esm/index.js","../node_modules/hyperhtml/esm/classes/Component.js","../node_modules/hyperhtml/esm/objects/Intent.js","../node_modules/@ungap/is-array/esm/index.js","../node_modules/@ungap/create-content/esm/index.js","../node_modules/disconnected/esm/index.js","../node_modules/@ungap/import-node/esm/index.js","../node_modules/@ungap/trim/esm/index.js","../node_modules/domconstants/esm/index.js","../node_modules/domsanitizer/esm/index.js","../node_modules/domtagger/esm/walker.js","../node_modules/domtagger/esm/index.js","../node_modules/hyperhtml-style/esm/index.js","../node_modules/hyperhtml-wire/esm/index.js","../node_modules/hyperhtml/esm/shared/constants.js","../node_modules/hyperhtml/esm/objects/Updates.js","../node_modules/@ungap/template-literal/esm/index.js","../node_modules/@ungap/template-tag-arguments/esm/index.js","../node_modules/hyperhtml/esm/hyper/wire.js","../node_modules/hyperhtml/esm/hyper/render.js","../node_modules/hyperhtml/esm/index.js","../src/js/components.js","../src/js/index.js"],"sourcesContent":["/*! (c) Andrea Giammarchi - ISC */\nvar self = this || /* istanbul ignore next */ {};\ntry { self.WeakMap = WeakMap; }\ncatch (WeakMap) {\n  // this could be better but 90% of the time\n  // it's everything developers need as fallback\n  self.WeakMap = (function (id, Object) {'use strict';\n    var dP = Object.defineProperty;\n    var hOP = Object.hasOwnProperty;\n    var proto = WeakMap.prototype;\n    proto.delete = function (key) {\n      return this.has(key) && delete key[this._];\n    };\n    proto.get = function (key) {\n      return this.has(key) ? key[this._] : void 0;\n    };\n    proto.has = function (key) {\n      return hOP.call(key, this._);\n    };\n    proto.set = function (key, value) {\n      dP(key, this._, {configurable: true, value: value});\n      return this;\n    };\n    return WeakMap;\n    function WeakMap(iterable) {\n      dP(this, '_', {value: '_@ungap/weakmap' + id++});\n      if (iterable)\n        iterable.forEach(add, this);\n    }\n    function add(pair) {\n      this.set(pair[0], pair[1]);\n    }\n  }(Math.random(), Object));\n}\nexport default self.WeakMap;\n","/*! (c) Andrea Giammarchi - ISC */\nvar self = this || /* istanbul ignore next */ {};\ntry { self.WeakSet = WeakSet; }\ncatch (WeakSet) {\n  (function (id, dP) {\n    var proto = WeakSet.prototype;\n    proto.add = function (object) {\n      if (!this.has(object))\n        dP(object, this._, {value: true, configurable: true});\n      return this;\n    };\n    proto.has = function (object) {\n      return this.hasOwnProperty.call(object, this._);\n    };\n    proto.delete = function (object) {\n      return this.has(object) && delete object[this._];\n    };\n    self.WeakSet = WeakSet;\n    function WeakSet() {'use strict';\n      dP(this, '_', {value: '_@ungap/weakmap' + id++});\n    }\n  }(Math.random(), Object.defineProperty));\n}\nexport default self.WeakSet;\n","/*! (c) Andrea Giammarchi - ISC */\nvar self = this || /* istanbul ignore next */ {};\ntry { self.Map = Map; }\ncatch (Map) {\n  self.Map = function Map() {\n    var i = 0;\n    var k = [];\n    var v = [];\n    return {\n      delete: function (key) {\n        var had = contains(key);\n        if (had) {\n          k.splice(i, 1);\n          v.splice(i, 1);\n        }\n        return had;\n      },\n      forEach: function forEach(callback, context) {\n        k.forEach(\n          function (key, i)  {\n            callback.call(context, v[i], key, this);\n          },\n          this\n        );\n      },\n      get: function get(key) {\n        return contains(key) ? v[i] : void 0;\n      },\n      has: function has(key) {\n        return contains(key);\n      },\n      set: function set(key, value) {\n        v[contains(key) ? i : (k.push(key) - 1)] = value;\n        return this;\n      }\n    };\n    function contains(v) {\n      i = k.indexOf(v);\n      return -1 < i;\n    }\n  };\n}\nexport default self.Map;\n","import Map from '@ungap/essential-map';\n\nconst {indexOf: iOF} = [];\nexport const append = (get, parent, children, start, end, before) => {\n  const isSelect = 'selectedIndex' in parent;\n  let noSelection = isSelect;\n  while (start < end) {\n    const child = get(children[start], 1);\n    parent.insertBefore(child, before);\n    if (isSelect && noSelection && child.selected) {\n      noSelection = !noSelection;\n      let {selectedIndex} = parent;\n      parent.selectedIndex = selectedIndex < 0 ?\n        start :\n        iOF.call(parent.querySelectorAll('option'), child);\n    }\n    start++;\n  }\n};\n\nexport const eqeq = (a, b) => a == b;\n\nexport const identity = O => O;\n\nexport const indexOf = (\n  moreNodes,\n  moreStart,\n  moreEnd,\n  lessNodes,\n  lessStart,\n  lessEnd,\n  compare\n) => {\n  const length = lessEnd - lessStart;\n  /* istanbul ignore if */\n  if (length < 1)\n    return -1;\n  while ((moreEnd - moreStart) >= length) {\n    let m = moreStart;\n    let l = lessStart;\n    while (\n      m < moreEnd &&\n      l < lessEnd &&\n      compare(moreNodes[m], lessNodes[l])\n    ) {\n      m++;\n      l++;\n    }\n    if (l === lessEnd)\n      return moreStart;\n    moreStart = m + 1;\n  }\n  return -1;\n};\n\nexport const isReversed = (\n  futureNodes,\n  futureEnd,\n  currentNodes,\n  currentStart,\n  currentEnd,\n  compare\n) => {\n  while (\n    currentStart < currentEnd &&\n    compare(\n      currentNodes[currentStart],\n      futureNodes[futureEnd - 1]\n    )) {\n      currentStart++;\n      futureEnd--;\n    };\n  return futureEnd === 0;\n};\n\nexport const next = (get, list, i, length, before) => i < length ?\n              get(list[i], 0) :\n              (0 < i ?\n                get(list[i - 1], -0).nextSibling :\n                before);\n\nexport const remove = (get, parent, children, start, end) => {\n  while (start < end)\n    removeChild(get(children[start++], -1), parent);\n};\n\n// - - - - - - - - - - - - - - - - - - -\n// diff related constants and utilities\n// - - - - - - - - - - - - - - - - - - -\n\nconst DELETION = -1;\nconst INSERTION = 1;\nconst SKIP = 0;\nconst SKIP_OND = 50;\n\nconst HS = (\n  futureNodes,\n  futureStart,\n  futureEnd,\n  futureChanges,\n  currentNodes,\n  currentStart,\n  currentEnd,\n  currentChanges\n) => {\n\n  let k = 0;\n  /* istanbul ignore next */\n  let minLen = futureChanges < currentChanges ? futureChanges : currentChanges;\n  const link = Array(minLen++);\n  const tresh = Array(minLen);\n  tresh[0] = -1;\n\n  for (let i = 1; i < minLen; i++)\n    tresh[i] = currentEnd;\n\n  const keymap = new Map;\n  for (let i = currentStart; i < currentEnd; i++)\n    keymap.set(currentNodes[i], i);\n\n  for (let i = futureStart; i < futureEnd; i++) {\n    const idxInOld = keymap.get(futureNodes[i]);\n    if (idxInOld != null) {\n      k = findK(tresh, minLen, idxInOld);\n      /* istanbul ignore else */\n      if (-1 < k) {\n        tresh[k] = idxInOld;\n        link[k] = {\n          newi: i,\n          oldi: idxInOld,\n          prev: link[k - 1]\n        };\n      }\n    }\n  }\n\n  k = --minLen;\n  --currentEnd;\n  while (tresh[k] > currentEnd) --k;\n\n  minLen = currentChanges + futureChanges - k;\n  const diff = Array(minLen);\n  let ptr = link[k];\n  --futureEnd;\n  while (ptr) {\n    const {newi, oldi} = ptr;\n    while (futureEnd > newi) {\n      diff[--minLen] = INSERTION;\n      --futureEnd;\n    }\n    while (currentEnd > oldi) {\n      diff[--minLen] = DELETION;\n      --currentEnd;\n    }\n    diff[--minLen] = SKIP;\n    --futureEnd;\n    --currentEnd;\n    ptr = ptr.prev;\n  }\n  while (futureEnd >= futureStart) {\n    diff[--minLen] = INSERTION;\n    --futureEnd;\n  }\n  while (currentEnd >= currentStart) {\n    diff[--minLen] = DELETION;\n    --currentEnd;\n  }\n  return diff;\n};\n\n// this is pretty much the same petit-dom code without the delete map part\n// https://github.com/yelouafi/petit-dom/blob/bd6f5c919b5ae5297be01612c524c40be45f14a7/src/vdom.js#L556-L561\nconst OND = (\n  futureNodes,\n  futureStart,\n  rows,\n  currentNodes,\n  currentStart,\n  cols,\n  compare\n) => {\n  const length = rows + cols;\n  const v = [];\n  let d, k, r, c, pv, cv, pd;\n  outer: for (d = 0; d <= length; d++) {\n    /* istanbul ignore if */\n    if (d > SKIP_OND)\n      return null;\n    pd = d - 1;\n    /* istanbul ignore next */\n    pv = d ? v[d - 1] : [0, 0];\n    cv = v[d] = [];\n    for (k = -d; k <= d; k += 2) {\n      if (k === -d || (k !== d && pv[pd + k - 1] < pv[pd + k + 1])) {\n        c = pv[pd + k + 1];\n      } else {\n        c = pv[pd + k - 1] + 1;\n      }\n      r = c - k;\n      while (\n        c < cols &&\n        r < rows &&\n        compare(\n          currentNodes[currentStart + c],\n          futureNodes[futureStart + r]\n        )\n      ) {\n        c++;\n        r++;\n      }\n      if (c === cols && r === rows) {\n        break outer;\n      }\n      cv[d + k] = c;\n    }\n  }\n\n  const diff = Array(d / 2 + length / 2);\n  let diffIdx = diff.length - 1;\n  for (d = v.length - 1; d >= 0; d--) {\n    while (\n      c > 0 &&\n      r > 0 &&\n      compare(\n        currentNodes[currentStart + c - 1],\n        futureNodes[futureStart + r - 1]\n      )\n    ) {\n      // diagonal edge = equality\n      diff[diffIdx--] = SKIP;\n      c--;\n      r--;\n    }\n    if (!d)\n      break;\n    pd = d - 1;\n    /* istanbul ignore next */\n    pv = d ? v[d - 1] : [0, 0];\n    k = c - r;\n    if (k === -d || (k !== d && pv[pd + k - 1] < pv[pd + k + 1])) {\n      // vertical edge = insertion\n      r--;\n      diff[diffIdx--] = INSERTION;\n    } else {\n      // horizontal edge = deletion\n      c--;\n      diff[diffIdx--] = DELETION;\n    }\n  }\n  return diff;\n};\n\nconst applyDiff = (\n  diff,\n  get,\n  parentNode,\n  futureNodes,\n  futureStart,\n  currentNodes,\n  currentStart,\n  currentLength,\n  before\n) => {\n  const live = new Map;\n  const length = diff.length;\n  let currentIndex = currentStart;\n  let i = 0;\n  while (i < length) {\n    switch (diff[i++]) {\n      case SKIP:\n        futureStart++;\n        currentIndex++;\n        break;\n      case INSERTION:\n        // TODO: bulk appends for sequential nodes\n        live.set(futureNodes[futureStart], 1);\n        append(\n          get,\n          parentNode,\n          futureNodes,\n          futureStart++,\n          futureStart,\n          currentIndex < currentLength ?\n            get(currentNodes[currentIndex], 0) :\n            before\n        );\n        break;\n      case DELETION:\n        currentIndex++;\n        break;\n    }\n  }\n  i = 0;\n  while (i < length) {\n    switch (diff[i++]) {\n      case SKIP:\n        currentStart++;\n        break;\n      case DELETION:\n        // TODO: bulk removes for sequential nodes\n        if (live.has(currentNodes[currentStart]))\n          currentStart++;\n        else\n          remove(\n            get,\n            parentNode,\n            currentNodes,\n            currentStart++,\n            currentStart\n          );\n        break;\n    }\n  }\n};\n\nconst findK = (ktr, length, j) => {\n  let lo = 1;\n  let hi = length;\n  while (lo < hi) {\n    const mid = ((lo + hi) / 2) >>> 0;\n    if (j < ktr[mid])\n      hi = mid;\n    else\n      lo = mid + 1;\n  }\n  return lo;\n}\n\nexport const smartDiff = (\n  get,\n  parentNode,\n  futureNodes,\n  futureStart,\n  futureEnd,\n  futureChanges,\n  currentNodes,\n  currentStart,\n  currentEnd,\n  currentChanges,\n  currentLength,\n  compare,\n  before\n) => {\n  applyDiff(\n    OND(\n      futureNodes,\n      futureStart,\n      futureChanges,\n      currentNodes,\n      currentStart,\n      currentChanges,\n      compare\n    ) ||\n    HS(\n      futureNodes,\n      futureStart,\n      futureEnd,\n      futureChanges,\n      currentNodes,\n      currentStart,\n      currentEnd,\n      currentChanges\n    ),\n    get,\n    parentNode,\n    futureNodes,\n    futureStart,\n    currentNodes,\n    currentStart,\n    currentLength,\n    before\n  );\n};\n\nlet removeChild = (child, parentNode) => {\n  /* istanbul ignore if */\n  if ('remove' in child) {\n    removeChild = child => {\n      child.remove();\n    };\n  }\n  else {\n    removeChild = (child, parentNode) => {\n      /* istanbul ignore else */\n      if (child.parentNode === parentNode)\n        parentNode.removeChild(child);\n    };\n  }\n  removeChild(child, parentNode);\n};\n","/*! (c) 2018 Andrea Giammarchi (ISC) */\n\nimport {\n  eqeq, identity, indexOf, isReversed, next,\n  append, remove,\n  smartDiff\n} from './utils.js';\n\nconst domdiff = (\n  parentNode,     // where changes happen\n  currentNodes,   // Array of current items/nodes\n  futureNodes,    // Array of future items/nodes\n  options         // optional object with one of the following properties\n                  //  before: domNode\n                  //  compare(generic, generic) => true if same generic\n                  //  node(generic) => Node\n) => {\n  if (!options)\n    options = {};\n\n  const compare = options.compare || eqeq;\n  const get = options.node || identity;\n  const before = options.before == null ? null : get(options.before, 0);\n\n  const currentLength = currentNodes.length;\n  let currentEnd = currentLength;\n  let currentStart = 0;\n\n  let futureEnd = futureNodes.length;\n  let futureStart = 0;\n\n  // common prefix\n  while (\n    currentStart < currentEnd &&\n    futureStart < futureEnd &&\n    compare(currentNodes[currentStart], futureNodes[futureStart])\n  ) {\n    currentStart++;\n    futureStart++;\n  }\n\n  // common suffix\n  while (\n    currentStart < currentEnd &&\n    futureStart < futureEnd &&\n    compare(currentNodes[currentEnd - 1], futureNodes[futureEnd - 1])\n  ) {\n    currentEnd--;\n    futureEnd--;\n  }\n\n  const currentSame = currentStart === currentEnd;\n  const futureSame = futureStart === futureEnd;\n\n  // same list\n  if (currentSame && futureSame)\n    return futureNodes;\n\n  // only stuff to add\n  if (currentSame && futureStart < futureEnd) {\n    append(\n      get,\n      parentNode,\n      futureNodes,\n      futureStart,\n      futureEnd,\n      next(get, currentNodes, currentStart, currentLength, before)\n    );\n    return futureNodes;\n  }\n\n  // only stuff to remove\n  if (futureSame && currentStart < currentEnd) {\n    remove(\n      get,\n      parentNode,\n      currentNodes,\n      currentStart,\n      currentEnd\n    );\n    return futureNodes;\n  }\n\n  const currentChanges = currentEnd - currentStart;\n  const futureChanges = futureEnd - futureStart;\n  let i = -1;\n\n  // 2 simple indels: the shortest sequence is a subsequence of the longest\n  if (currentChanges < futureChanges) {\n    i = indexOf(\n      futureNodes,\n      futureStart,\n      futureEnd,\n      currentNodes,\n      currentStart,\n      currentEnd,\n      compare\n    );\n    // inner diff\n    if (-1 < i) {\n      append(\n        get,\n        parentNode,\n        futureNodes,\n        futureStart,\n        i,\n        get(currentNodes[currentStart], 0)\n      );\n      append(\n        get,\n        parentNode,\n        futureNodes,\n        i + currentChanges,\n        futureEnd,\n        next(get, currentNodes, currentEnd, currentLength, before)\n      );\n      return futureNodes;\n    }\n  }\n  /* istanbul ignore else */\n  else if (futureChanges < currentChanges) {\n    i = indexOf(\n      currentNodes,\n      currentStart,\n      currentEnd,\n      futureNodes,\n      futureStart,\n      futureEnd,\n      compare\n    );\n    // outer diff\n    if (-1 < i) {\n      remove(\n        get,\n        parentNode,\n        currentNodes,\n        currentStart,\n        i\n      );\n      remove(\n        get,\n        parentNode,\n        currentNodes,\n        i + futureChanges,\n        currentEnd\n      );\n      return futureNodes;\n    }\n  }\n\n  // common case with one replacement for many nodes\n  // or many nodes replaced for a single one\n  /* istanbul ignore else */\n  if ((currentChanges < 2 || futureChanges < 2)) {\n    append(\n      get,\n      parentNode,\n      futureNodes,\n      futureStart,\n      futureEnd,\n      get(currentNodes[currentStart], 0)\n    );\n    remove(\n      get,\n      parentNode,\n      currentNodes,\n      currentStart,\n      currentEnd\n    );\n    return futureNodes;\n  }\n\n  // the half match diff part has been skipped in petit-dom\n  // https://github.com/yelouafi/petit-dom/blob/bd6f5c919b5ae5297be01612c524c40be45f14a7/src/vdom.js#L391-L397\n  // accordingly, I think it's safe to skip in here too\n  // if one day it'll come out like the speediest thing ever to do\n  // then I might add it in here too\n\n  // Extra: before going too fancy, what about reversed lists ?\n  //        This should bail out pretty quickly if that's not the case.\n  if (\n    currentChanges === futureChanges &&\n    isReversed(\n      futureNodes,\n      futureEnd,\n      currentNodes,\n      currentStart,\n      currentEnd,\n      compare\n    )\n  ) {\n    append(\n      get,\n      parentNode,\n      futureNodes,\n      futureStart,\n      futureEnd,\n      next(get, currentNodes, currentEnd, currentLength, before)\n    );\n    return futureNodes;\n  }\n\n  // last resort through a smart diff\n  smartDiff(\n    get,\n    parentNode,\n    futureNodes,\n    futureStart,\n    futureEnd,\n    futureChanges,\n    currentNodes,\n    currentStart,\n    currentEnd,\n    currentChanges,\n    currentLength,\n    compare,\n    before\n  );\n\n  return futureNodes;\n};\n\nexport default domdiff;\n","/*! (c) Andrea Giammarchi - ISC */\nvar self = this || /* istanbul ignore next */ {};\nself.CustomEvent = typeof CustomEvent === 'function' ?\n  CustomEvent :\n  (function (__p__) {\n    CustomEvent[__p__] = new CustomEvent('').constructor[__p__];\n    return CustomEvent;\n    function CustomEvent(type, init) {\n      if (!init) init = {};\n      var e = document.createEvent('CustomEvent');\n      e.initCustomEvent(type, !!init.bubbles, !!init.cancelable, init.detail);\n      return e;\n    }\n  }('prototype'));\nexport default self.CustomEvent;\n","import CustomEvent from '@ungap/custom-event';\nimport Map from '@ungap/essential-map';\nimport WeakMap from '@ungap/weakmap';\n\n// hyperHTML.Component is a very basic class\n// able to create Custom Elements like components\n// including the ability to listen to connect/disconnect\n// events via onconnect/ondisconnect attributes\n// Components can be created imperatively or declaratively.\n// The main difference is that declared components\n// will not automatically render on setState(...)\n// to simplify state handling on render.\nexport default function Component() {\n  return this; // this is needed in Edge !!!\n}\n\n// Component is lazily setup because it needs\n// wire mechanism as lazy content\nexport function setup(content) {\n  // there are various weakly referenced variables in here\n  // and mostly are to use Component.for(...) static method.\n  const children = new WeakMap;\n  const create = Object.create;\n  const createEntry = (wm, id, component) => {\n    wm.set(id, component);\n    return component;\n  };\n  const get = (Class, info, context, id) => {\n    const relation = info.get(Class) || relate(Class, info);\n    switch (typeof id) {\n      case 'object':\n      case 'function':\n        const wm = relation.w || (relation.w = new WeakMap);\n        return wm.get(id) || createEntry(wm, id, new Class(context));\n      default:\n        const sm = relation.p || (relation.p = create(null));\n        return sm[id] || (sm[id] = new Class(context));\n    }\n  };\n  const relate = (Class, info) => {\n    const relation = {w: null, p: null};\n    info.set(Class, relation);\n    return relation;\n  };\n  const set = context => {\n    const info = new Map;\n    children.set(context, info);\n    return info;\n  };\n  // The Component Class\n  Object.defineProperties(\n    Component,\n    {\n      // Component.for(context[, id]) is a convenient way\n      // to automatically relate data/context to children components\n      // If not created yet, the new Component(context) is weakly stored\n      // and after that same instance would always be returned.\n      for: {\n        configurable: true,\n        value(context, id) {\n          return get(\n            this,\n            children.get(context) || set(context),\n            context,\n            id == null ?\n              'default' : id\n          );\n        }\n      }\n    }\n  );\n  Object.defineProperties(\n    Component.prototype,\n    {\n      // all events are handled with the component as context\n      handleEvent: {value(e) {\n        const ct = e.currentTarget;\n        this[\n          ('getAttribute' in ct && ct.getAttribute('data-call')) ||\n          ('on' + e.type)\n        ](e);\n      }},\n      // components will lazily define html or svg properties\n      // as soon as these are invoked within the .render() method\n      // Such render() method is not provided by the base class\n      // but it must be available through the Component extend.\n      // Declared components could implement a\n      // render(props) method too and use props as needed.\n      html: lazyGetter('html', content),\n      svg: lazyGetter('svg', content),\n      // the state is a very basic/simple mechanism inspired by Preact\n      state: lazyGetter('state', function () { return this.defaultState; }),\n      // it is possible to define a default state that'd be always an object otherwise\n      defaultState: {get() { return {}; }},\n      // dispatch a bubbling, cancelable, custom event\n      // through the first known/available node\n      dispatch: {value(type, detail) {\n        const {_wire$} = this;\n        if (_wire$) {\n          const event = new CustomEvent(type, {\n            bubbles: true,\n            cancelable: true,\n            detail\n          });\n          event.component = this;\n          return (_wire$.dispatchEvent ?\n                    _wire$ :\n                    _wire$.firstChild\n                  ).dispatchEvent(event);\n        }\n        return false;\n      }},\n      // setting some property state through a new object\n      // or a callback, triggers also automatically a render\n      // unless explicitly specified to not do so (render === false)\n      setState: {value(state, render) {\n        const target = this.state;\n        const source = typeof state === 'function' ? state.call(this, target) : state;\n        for (const key in source) target[key] = source[key];\n        if (render !== false)\n          this.render();\n        return this;\n      }}\n    }\n  );\n}\n\n// instead of a secret key I could've used a WeakMap\n// However, attaching a property directly will result\n// into better performance with thousands of components\n// hanging around, and less memory pressure caused by the WeakMap\nconst lazyGetter = (type, fn) => {\n  const secret = '_' + type + '$';\n  return {\n    get() {\n      return this[secret] || setValue(this, secret, fn.call(this, type));\n    },\n    set(value) {\n      setValue(this, secret, value);\n    }\n  };\n};\n\n// shortcut to set value on get or set(value)\nconst setValue = (self, secret, value) =>\n  Object.defineProperty(self, secret, {\n    configurable: true,\n    value: typeof value === 'function' ?\n      function () {\n        return (self._wire$ = value.apply(this, arguments));\n      } :\n      value\n  })[secret]\n;\n\nObject.defineProperties(\n  Component.prototype,\n  {\n    // used to distinguish better than instanceof\n    ELEMENT_NODE: {value: 1},\n    nodeType: {value: -1}\n  }\n);\n","const attributes = {};\nconst intents = {};\nconst keys = [];\nconst hasOwnProperty = intents.hasOwnProperty;\n\nlet length = 0;\n\nexport default {\n\n  // used to invoke right away hyper:attributes\n  attributes,\n\n  // hyperHTML.define('intent', (object, update) => {...})\n  // can be used to define a third parts update mechanism\n  // when every other known mechanism failed.\n  // hyper.define('user', info => info.name);\n  // hyper(node)`<p>${{user}}</p>`;\n  define: (intent, callback) => {\n    if (intent.indexOf('-') < 0) {\n      if (!(intent in intents)) {\n        length = keys.push(intent);\n      }\n      intents[intent] = callback;\n    } else {\n      attributes[intent] = callback;\n    }\n  },\n\n  // this method is used internally as last resort\n  // to retrieve a value out of an object\n  invoke: (object, callback) => {\n    for (let i = 0; i < length; i++) {\n      let key = keys[i];\n      if (hasOwnProperty.call(object, key)) {\n        return intents[key](object[key], callback);\n      }\n    }\n  }\n};\n","var isArray = Array.isArray || (function (toString) {\n  var $ = toString.call([]);\n  return function isArray(object) {\n    return toString.call(object) === $;\n  };\n}({}.toString));\nexport default isArray;\n","/*! (c) Andrea Giammarchi - ISC */\nvar createContent = (function (document) {'use strict';\n  var FRAGMENT = 'fragment';\n  var TEMPLATE = 'template';\n  var HAS_CONTENT = 'content' in create(TEMPLATE);\n\n  var createHTML = HAS_CONTENT ?\n    function (html) {\n      var template = create(TEMPLATE);\n      template.innerHTML = html;\n      return template.content;\n    } :\n    function (html) {\n      var content = create(FRAGMENT);\n      var template = create(TEMPLATE);\n      var childNodes = null;\n      if (/^[^\\S]*?<(col(?:group)?|t(?:head|body|foot|r|d|h))/i.test(html)) {\n        var selector = RegExp.$1;\n        template.innerHTML = '<table>' + html + '</table>';\n        childNodes = template.querySelectorAll(selector);\n      } else {\n        template.innerHTML = html;\n        childNodes = template.childNodes;\n      }\n      append(content, childNodes);\n      return content;\n    };\n\n  return function createContent(markup, type) {\n    return (type === 'svg' ? createSVG : createHTML)(markup);\n  };\n\n  function append(root, childNodes) {\n    var length = childNodes.length;\n    while (length--)\n      root.appendChild(childNodes[0]);\n  }\n\n  function create(element) {\n    return element === FRAGMENT ?\n      document.createDocumentFragment() :\n      document.createElementNS('http://www.w3.org/1999/xhtml', element);\n  }\n\n  // it could use createElementNS when hasNode is there\n  // but this fallback is equally fast and easier to maintain\n  // it is also battle tested already in all IE\n  function createSVG(svg) {\n    var content = create(FRAGMENT);\n    var template = create('div');\n    template.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\">' + svg + '</svg>';\n    append(content, template.firstChild.childNodes);\n    return content;\n  }\n\n}(document));\nexport default createContent;\n","/*! (c) Andrea Giammarchi */\nfunction disconnected(poly) {'use strict';\n  var Event = poly.Event;\n  var WeakSet = poly.WeakSet;\n  var notObserving = true;\n  var observer = null;\n  return function observe(node) {\n    if (notObserving) {\n      notObserving = !notObserving;\n      observer = new WeakSet;\n      startObserving(node.ownerDocument);\n    }\n    observer.add(node);\n    return node;\n  };\n  function startObserving(document) {\n    var connected = new WeakSet;\n    var disconnected = new WeakSet;\n    try {\n      (new MutationObserver(changes)).observe(\n        document,\n        {subtree: true, childList: true}\n      );\n    }\n    catch(o_O) {\n      var timer = 0;\n      var records = [];\n      var reschedule = function (record) {\n        records.push(record);\n        clearTimeout(timer);\n        timer = setTimeout(\n          function () {\n            changes(records.splice(timer = 0, records.length));\n          },\n          0\n        );\n      };\n      document.addEventListener(\n        'DOMNodeRemoved',\n        function (event) {\n          reschedule({addedNodes: [], removedNodes: [event.target]});\n        },\n        true\n      );\n      document.addEventListener(\n        'DOMNodeInserted',\n        function (event) {\n          reschedule({addedNodes: [event.target], removedNodes: []});\n        },\n        true\n      );\n    }\n    function changes(records) {\n      for (var\n        record,\n        length = records.length,\n        i = 0; i < length; i++\n      ) {\n        record = records[i];\n        dispatchAll(record.removedNodes, 'disconnected', disconnected, connected);\n        dispatchAll(record.addedNodes, 'connected', connected, disconnected);\n      }\n    }\n    function dispatchAll(nodes, type, wsin, wsout) {\n      for (var\n        node,\n        event = new Event(type),\n        length = nodes.length,\n        i = 0; i < length;\n        (node = nodes[i++]).nodeType === 1 &&\n        dispatchTarget(node, event, type, wsin, wsout)\n      );\n    }\n    function dispatchTarget(node, event, type, wsin, wsout) {\n      if (observer.has(node) && !wsin.has(node)) {\n        wsout.delete(node);\n        wsin.add(node);\n        node.dispatchEvent(event);\n        /*\n        // The event is not bubbling (perf reason: should it?),\n        // hence there's no way to know if\n        // stop/Immediate/Propagation() was called.\n        // Should DOM Level 0 work at all?\n        // I say it's a YAGNI case for the time being,\n        // and easy to implement in user-land.\n        if (!event.cancelBubble) {\n          var fn = node['on' + type];\n          if (fn)\n            fn.call(node, event);\n        }\n        */\n      }\n      for (var\n        // apparently is node.children || IE11 ... ^_^;;\n        // https://github.com/WebReflection/disconnected/issues/1\n        children = node.children || [],\n        length = children.length,\n        i = 0; i < length;\n        dispatchTarget(children[i++], event, type, wsin, wsout)\n      );\n    }\n  }\n}\nexport default disconnected;\n","/*! (c) Andrea Giammarchi - ISC */\nvar importNode = (function (\n  document,\n  appendChild,\n  cloneNode,\n  createTextNode,\n  importNode\n) {\n  var native = importNode in document;\n  // IE 11 has problems with cloning templates:\n  // it \"forgets\" empty childNodes. This feature-detects that.\n  var fragment = document.createDocumentFragment();\n  fragment[appendChild](document[createTextNode]('g'));\n  fragment[appendChild](document[createTextNode](''));\n  var content = native ?\n    document[importNode](fragment, true) :\n    fragment[cloneNode](true);\n  return content.childNodes.length < 2 ?\n    function importNode(node, deep) {\n      var clone = node[cloneNode]();\n      for (var\n        childNodes = node.childNodes || [],\n        length = childNodes.length,\n        i = 0; deep && i < length; i++\n      ) {\n        clone[appendChild](importNode(childNodes[i], deep));\n      }\n      return clone;\n    } :\n    (native ?\n      document[importNode] :\n      function (node, deep) {\n        return node[cloneNode](!!deep);\n      }\n    );\n}(\n  document,\n  'appendChild',\n  'cloneNode',\n  'createTextNode',\n  'importNode'\n));\nexport default importNode;\n","var trim = ''.trim || function () {\n  return String(this).replace(/^\\s+|\\s+/g, '');\n};\nexport default trim;\n","/*! (c) Andrea Giammarchi - ISC */\n\n// Custom\nvar UID = '-' + Math.random().toFixed(6) + '%';\n//                           Edge issue!\n\nvar UID_IE = false;\n\ntry {\n  if (!(function (template, content, tabindex) {\n    return content in template && (\n      (template.innerHTML = '<p ' + tabindex + '=\"' + UID + '\"></p>'),\n      template[content].childNodes[0].getAttribute(tabindex) == UID\n    );\n  }(document.createElement('template'), 'content', 'tabindex'))) {\n    UID = '_dt: ' + UID.slice(1, -1) + ';';\n    UID_IE = true;\n  }\n} catch(meh) {}\n\nvar UIDC = '<!--' + UID + '-->';\n\n// DOM\nvar COMMENT_NODE = 8;\nvar DOCUMENT_FRAGMENT_NODE = 11;\nvar ELEMENT_NODE = 1;\nvar TEXT_NODE = 3;\n\nvar SHOULD_USE_TEXT_CONTENT = /^(?:style|textarea)$/i;\nvar VOID_ELEMENTS = /^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i;\n\nexport {\n  UID, UIDC, UID_IE,\n  COMMENT_NODE,\n  DOCUMENT_FRAGMENT_NODE,\n  ELEMENT_NODE,\n  TEXT_NODE,\n  SHOULD_USE_TEXT_CONTENT,\n  VOID_ELEMENTS\n};\n","/*! (c) Andrea Giammarchi - ISC */\n\nimport {UID, UIDC, VOID_ELEMENTS} from 'domconstants';\n\nexport default function (template) {\n  return template.join(UIDC)\n          .replace(selfClosing, fullClosing)\n          .replace(attrSeeker, attrReplacer);\n}\n\nvar spaces = ' \\\\f\\\\n\\\\r\\\\t';\nvar almostEverything = '[^' + spaces + '\\\\/>\"\\'=]+';\nvar attrName = '[' + spaces + ']+' + almostEverything;\nvar tagName = '<([A-Za-z]+[A-Za-z0-9:._-]*)((?:';\nvar attrPartials = '(?:\\\\s*=\\\\s*(?:\\'[^\\']*?\\'|\"[^\"]*?\"|<[^>]*?>|' + almostEverything.replace('\\\\/', '') + '))?)';\n\nvar attrSeeker = new RegExp(tagName + attrName + attrPartials + '+)([' + spaces + ']*/?>)', 'g');\nvar selfClosing = new RegExp(tagName + attrName + attrPartials + '*)([' + spaces + ']*/>)', 'g');\nvar findAttributes = new RegExp('(' + attrName + '\\\\s*=\\\\s*)([\\'\"]?)' + UIDC + '\\\\2', 'gi');\n\nfunction attrReplacer($0, $1, $2, $3) {\n  return '<' + $1 + $2.replace(findAttributes, replaceAttributes) + $3;\n}\n\nfunction replaceAttributes($0, $1, $2) {\n  return $1 + ($2 || '\"') + UID + ($2 || '\"');\n}\n\nfunction fullClosing($0, $1, $2) {\n  return VOID_ELEMENTS.test($1) ? $0 : ('<' + $1 + $2 + '></' + $1 + '>');\n}\n","import Map from '@ungap/essential-map';\nimport trim from '@ungap/trim';\n\nimport {\n  UID, UIDC, UID_IE,\n  COMMENT_NODE,\n  ELEMENT_NODE,\n  SHOULD_USE_TEXT_CONTENT,\n  TEXT_NODE\n} from 'domconstants';\n\nexport {find, parse};\n\nfunction find(node, path) {\n  var length = path.length;\n  var i = 0;\n  while (i < length)\n    node = node.childNodes[path[i++]];\n  return node;\n}\n\nfunction parse(node, holes, parts, path) {\n  var childNodes = node.childNodes;\n  var length = childNodes.length;\n  var i = 0;\n  while (i < length) {\n    var child = childNodes[i];\n    switch (child.nodeType) {\n      case ELEMENT_NODE:\n        var childPath = path.concat(i);\n        parseAttributes(child, holes, parts, childPath);\n        parse(child, holes, parts, childPath);\n        break;\n      case COMMENT_NODE:\n        var textContent = child.textContent;\n        if (textContent === UID) {\n          parts.shift();\n          holes.push(\n            // basicHTML or other non standard engines\n            // might end up having comments in nodes\n            // where they shouldn't, hence this check.\n            SHOULD_USE_TEXT_CONTENT.test(node.nodeName) ?\n              Text(node, path) :\n              Any(child, path.concat(i))\n          );\n        } else {\n          switch (textContent.slice(0, 2)) {\n            case '/*':\n              if (textContent.slice(-2) !== '*/')\n                break;\n            case '\\uD83D\\uDC7B': // ghost\n              node.removeChild(child);\n              i--;\n              length--;\n          }\n        }\n        break;\n      case TEXT_NODE:\n        // the following ignore is actually covered by browsers\n        // only basicHTML ends up on previous COMMENT_NODE case\n        // instead of TEXT_NODE because it knows nothing about\n        // special style or textarea behavior\n        /* istanbul ignore if */\n        if (\n          SHOULD_USE_TEXT_CONTENT.test(node.nodeName) &&\n          trim.call(child.textContent) === UIDC\n        ) {\n          parts.shift();\n          holes.push(Text(node, path));\n        }\n        break;\n    }\n    i++;\n  }\n}\n\nfunction parseAttributes(node, holes, parts, path) {\n  var cache = new Map;\n  var attributes = node.attributes;\n  var remove = [];\n  var array = remove.slice.call(attributes, 0);\n  var length = array.length;\n  var i = 0;\n  while (i < length) {\n    var attribute = array[i++];\n    var direct = attribute.value === UID;\n    var sparse;\n    if (direct || 1 < (sparse = attribute.value.split(UIDC)).length) {\n      var name = attribute.name;\n      // the following ignore is covered by IE\n      // and the IE9 double viewBox test\n      /* istanbul ignore else */\n      if (!cache.has(name)) {\n        var realName = parts.shift().replace(\n          direct ?\n            /^(?:|[\\S\\s]*?\\s)(\\S+?)\\s*=\\s*('|\")?$/ :\n            // TODO: while working on yet another IE/Edge bug I've realized\n            //        the current not direct logic easily breaks there\n            //        because the `name` might not be the real needed one.\n            //        Use a better RegExp to find last attribute instead\n            //        of trusting `name` is what we are looking for.\n            //        Thanks IE/Edge, I hate you both.\n            new RegExp(\n              '^(?:|[\\\\S\\\\s]*?\\\\s)(' + name + ')\\\\s*=\\\\s*(\\'|\")',\n              'i'\n            ),\n            '$1'\n        );\n        var value = attributes[realName] ||\n                      // the following ignore is covered by browsers\n                      // while basicHTML is already case-sensitive\n                      /* istanbul ignore next */\n                      attributes[realName.toLowerCase()];\n        cache.set(name, value);\n        if (direct)\n          holes.push(Attr(value, path, realName, null));\n        else {\n          var skip = sparse.length - 2;\n          while (skip--)\n            parts.shift();\n          holes.push(Attr(value, path, realName, sparse));\n        }\n      }\n      remove.push(attribute);\n    }\n  }\n  length = remove.length;\n  i = 0;\n\n  /* istanbul ignore next */\n  var cleanValue = 0 < length && UID_IE && !('ownerSVGElement' in node);\n  while (i < length) {\n    // Edge HTML bug #16878726\n    var attr = remove[i++];\n    // IE/Edge bug lighterhtml#63 - clean the value or it'll persist\n    /* istanbul ignore next */\n    if (cleanValue)\n      attr.value = '';\n    // IE/Edge bug lighterhtml#64 - don't use removeAttributeNode\n    node.removeAttribute(attr.name);\n  }\n\n  // This is a very specific Firefox/Safari issue\n  // but since it should be a not so common pattern,\n  // it's probably worth patching regardless.\n  // Basically, scripts created through strings are death.\n  // You need to create fresh new scripts instead.\n  // TODO: is there any other node that needs such nonsense?\n  var nodeName = node.nodeName;\n  if (/^script$/i.test(nodeName)) {\n    // this used to be like that\n    // var script = createElement(node, nodeName);\n    // then Edge arrived and decided that scripts created\n    // through template documents aren't worth executing\n    // so it became this ... hopefully it won't hurt in the wild\n    var script = document.createElement(nodeName);\n    length = attributes.length;\n    i = 0;\n    while (i < length)\n      script.setAttributeNode(attributes[i++].cloneNode(true));\n    script.textContent = node.textContent;\n    node.parentNode.replaceChild(script, node);\n  }\n}\n\nfunction Any(node, path) {\n  return {\n    type: 'any',\n    node: node,\n    path: path\n  };\n}\n\nfunction Attr(node, path, name, sparse) {\n  return {\n    type: 'attr',\n    node: node,\n    path: path,\n    name: name,\n    sparse: sparse\n  };\n}\n\nfunction Text(node, path) {\n  return {\n    type: 'text',\n    node: node,\n    path: path\n  };\n}\n","// globals\nimport WeakMap from '@ungap/weakmap';\n\n// utils\nimport createContent from '@ungap/create-content';\nimport importNode from '@ungap/import-node';\nimport trim from '@ungap/trim';\nimport sanitize from 'domsanitizer';\n\n// local\nimport {find, parse} from './walker.js';\n\n// the domtagger ðŸŽ‰\nexport default domtagger;\n\nvar parsed = new WeakMap;\nvar referenced = new WeakMap;\n\nfunction createInfo(options, template) {\n  var markup = (options.convert || sanitize)(template);\n  var transform = options.transform;\n  if (transform)\n    markup = transform(markup);\n  var content = createContent(markup, options.type);\n  cleanContent(content);\n  var holes = [];\n  parse(content, holes, template.slice(0), []);\n  var info = {\n    content: content,\n    updates: function (content) {\n      var updates = [];\n      var len = holes.length;\n      var i = 0;\n      var off = 0;\n      while (i < len) {\n        var info = holes[i++];\n        var node = find(content, info.path);\n        switch (info.type) {\n          case 'any':\n            updates.push({fn: options.any(node, []), sparse: false});\n            break;\n          case 'attr':\n            var sparse = info.sparse;\n            var fn = options.attribute(node, info.name, info.node);\n            if (sparse === null)\n              updates.push({fn: fn, sparse: false});\n            else {\n              off += sparse.length - 2;\n              updates.push({fn: fn, sparse: true, values: sparse});\n            }\n            break;\n          case 'text':\n            updates.push({fn: options.text(node), sparse: false});\n            node.textContent = '';\n            break;\n        }\n      }\n      len += off;\n      return function () {\n        var length = arguments.length;\n        if (len !== (length - 1)) {\n          throw new Error(\n            (length - 1) + ' values instead of ' + len + '\\n' +\n            template.join('${value}')\n          );\n        }\n        var i = 1;\n        var off = 1;\n        while (i < length) {\n          var update = updates[i - off];\n          if (update.sparse) {\n            var values = update.values;\n            var value = values[0];\n            var j = 1;\n            var l = values.length;\n            off += l - 2;\n            while (j < l)\n              value += arguments[i++] + values[j++];\n            update.fn(value);\n          }\n          else\n            update.fn(arguments[i++]);\n        }\n        return content;\n      };\n    }\n  };\n  parsed.set(template, info);\n  return info;\n}\n\nfunction createDetails(options, template) {\n  var info = parsed.get(template) || createInfo(options, template);\n  var content = importNode.call(document, info.content, true);\n  var details = {\n    content: content,\n    template: template,\n    updates: info.updates(content)\n  };\n  referenced.set(options, details);\n  return details;\n}\n\nfunction domtagger(options) {\n  return function (template) {\n    var details = referenced.get(options);\n    if (details == null || details.template !== template)\n      details = createDetails(options, template);\n    details.updates.apply(null, arguments);\n    return details.content;\n  };\n}\n\nfunction cleanContent(fragment) {\n  var childNodes = fragment.childNodes;\n  var i = childNodes.length;\n  while (i--) {\n    var child = childNodes[i];\n    if (\n      child.nodeType !== 1 &&\n      trim.call(child.textContent).length === 0\n    ) {\n      fragment.removeChild(child);\n    }\n  }\n}\n","/*! (c) Andrea Giammarchi - ISC */\nvar hyperStyle = (function (){'use strict';\n  // from https://github.com/developit/preact/blob/33fc697ac11762a1cb6e71e9847670d047af7ce5/src/varants.js\n  var IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;\n  var hyphen = /([^A-Z])([A-Z]+)/g;\n  return function hyperStyle(node, original) {\n    return 'ownerSVGElement' in node ? svg(node, original) : update(node.style, false);\n  };\n  function ized($0, $1, $2) {\n    return $1 + '-' + $2.toLowerCase();\n  }\n  function svg(node, original) {\n    var style;\n    if (original)\n      style = original.cloneNode(true);\n    else {\n      node.setAttribute('style', '--hyper:style;');\n      style = node.getAttributeNode('style');\n    }\n    style.value = '';\n    node.setAttributeNode(style);\n    return update(style, true);\n  }\n  function toStyle(object) {\n    var key, css = [];\n    for (key in object)\n      css.push(key.replace(hyphen, ized), ':', object[key], ';');\n    return css.join('');\n  }\n  function update(style, isSVG) {\n    var oldType, oldValue;\n    return function (newValue) {\n      var info, key, styleValue, value;\n      switch (typeof newValue) {\n        case 'object':\n          if (newValue) {\n            if (oldType === 'object') {\n              if (!isSVG) {\n                if (oldValue !== newValue) {\n                  for (key in oldValue) {\n                    if (!(key in newValue)) {\n                      style[key] = '';\n                    }\n                  }\n                }\n              }\n            } else {\n              if (isSVG)\n                style.value = '';\n              else\n                style.cssText = '';\n            }\n            info = isSVG ? {} : style;\n            for (key in newValue) {\n              value = newValue[key];\n              styleValue = typeof value === 'number' &&\n                                  !IS_NON_DIMENSIONAL.test(key) ?\n                                  (value + 'px') : value;\n              if (!isSVG && /^--/.test(key))\n                info.setProperty(key, styleValue);\n              else\n                info[key] = styleValue;\n            }\n            oldType = 'object';\n            if (isSVG)\n              style.value = toStyle((oldValue = info));\n            else\n              oldValue = newValue;\n            break;\n          }\n        default:\n          if (oldValue != newValue) {\n            oldType = 'string';\n            oldValue = newValue;\n            if (isSVG)\n              style.value = newValue || '';\n            else\n              style.cssText = newValue || '';\n          }\n          break;\n      }\n    };\n  }\n}());\nexport default hyperStyle;\n","/*! (c) Andrea Giammarchi - ISC */\nvar Wire = (function (slice, proto) {\n\n  proto = Wire.prototype;\n\n  proto.ELEMENT_NODE = 1;\n  proto.nodeType = 111;\n\n  proto.remove = function (keepFirst) {\n    var childNodes = this.childNodes;\n    var first = this.firstChild;\n    var last = this.lastChild;\n    this._ = null;\n    if (keepFirst && childNodes.length === 2) {\n      last.parentNode.removeChild(last);\n    } else {\n      var range = this.ownerDocument.createRange();\n      range.setStartBefore(keepFirst ? childNodes[1] : first);\n      range.setEndAfter(last);\n      range.deleteContents();\n    }\n    return first;\n  };\n\n  proto.valueOf = function (forceAppend) {\n    var fragment = this._;\n    var noFragment = fragment == null;\n    if (noFragment)\n      fragment = (this._ = this.ownerDocument.createDocumentFragment());\n    if (noFragment || forceAppend) {\n      for (var n = this.childNodes, i = 0, l = n.length; i < l; i++)\n        fragment.appendChild(n[i]);\n    }\n    return fragment;\n  };\n\n  return Wire;\n\n  function Wire(childNodes) {\n    var nodes = (this.childNodes = slice.call(childNodes, 0));\n    this.firstChild = nodes[0];\n    this.lastChild = nodes[nodes.length - 1];\n    this.ownerDocument = nodes[0].ownerDocument;\n    this._ = null;\n  }\n\n}([].slice));\nexport default Wire;\n","// Node.CONSTANTS\n// 'cause some engine has no global Node defined\n// (i.e. Node, NativeScript, basicHTML ... )\nexport const ELEMENT_NODE = 1;\nexport const DOCUMENT_FRAGMENT_NODE = 11;\n\n// SVG related constants\nexport const OWNER_SVG_ELEMENT = 'ownerSVGElement';\n\n// Custom Elements / MutationObserver constants\nexport const CONNECTED = 'connected';\nexport const DISCONNECTED = 'dis' + CONNECTED;\n","import CustomEvent from '@ungap/custom-event';\nimport WeakSet from '@ungap/essential-weakset';\nimport isArray from '@ungap/is-array';\nimport createContent from '@ungap/create-content';\n\nimport disconnected from 'disconnected';\nimport domdiff from 'domdiff';\nimport domtagger from 'domtagger';\nimport hyperStyle from 'hyperhtml-style';\nimport Wire from 'hyperhtml-wire';\n\nimport {\n  CONNECTED, DISCONNECTED,\n  DOCUMENT_FRAGMENT_NODE,\n  OWNER_SVG_ELEMENT\n} from '../shared/constants.js';\n\nimport Component from '../classes/Component.js';\nimport Intent from './Intent.js';\n\nconst componentType = Component.prototype.nodeType;\nconst wireType = Wire.prototype.nodeType;\n\nconst observe = disconnected({Event: CustomEvent, WeakSet});\n\nexport {Tagger, observe};\n\n// returns an intent to explicitly inject content as html\nconst asHTML = html => ({html});\n\n// returns nodes from wires and components\nconst asNode = (item, i) => {\n  switch (item.nodeType) {\n    case wireType:\n      // in the Wire case, the content can be\n      // removed, post-pended, inserted, or pre-pended and\n      // all these cases are handled by domdiff already\n      /* istanbul ignore next */\n      return (1 / i) < 0 ?\n        (i ? item.remove(true) : item.lastChild) :\n        (i ? item.valueOf(true) : item.firstChild);\n    case componentType:\n      return asNode(item.render(), i);\n    default:\n      return item;\n  }\n}\n\n// returns true if domdiff can handle the value\nconst canDiff = value => 'ELEMENT_NODE' in value;\n\n// when a Promise is used as interpolation value\n// its result must be parsed once resolved.\n// This callback is in charge of understanding what to do\n// with a returned value once the promise is resolved.\nconst invokeAtDistance = (value, callback) => {\n  callback(value.placeholder);\n  if ('text' in value) {\n    Promise.resolve(value.text).then(String).then(callback);\n  } else if ('any' in value) {\n    Promise.resolve(value.any).then(callback);\n  } else if ('html' in value) {\n    Promise.resolve(value.html).then(asHTML).then(callback);\n  } else {\n    Promise.resolve(Intent.invoke(value, callback)).then(callback);\n  }\n};\n\n// quick and dirty way to check for Promise/ish values\nconst isPromise_ish = value => value != null && 'then' in value;\n\n// list of attributes that should not be directly assigned\nconst readOnly = /^(?:form|list)$/i;\n\n// reused every slice time\nconst slice = [].slice;\n\n// simplifies text node creation\nconst text = (node, text) => node.ownerDocument.createTextNode(text);\n\nfunction Tagger(type) {\n  this.type = type;\n  return domtagger(this);\n}\n\nTagger.prototype = {\n\n  // there are four kind of attributes, and related behavior:\n  //  * events, with a name starting with `on`, to add/remove event listeners\n  //  * special, with a name present in their inherited prototype, accessed directly\n  //  * regular, accessed through get/setAttribute standard DOM methods\n  //  * style, the only regular attribute that also accepts an object as value\n  //    so that you can style=${{width: 120}}. In this case, the behavior has been\n  //    fully inspired by Preact library and its simplicity.\n  attribute(node, name, original) {\n    const isSVG = OWNER_SVG_ELEMENT in node;\n    let oldValue;\n    // if the attribute is the style one\n    // handle it differently from others\n    if (name === 'style')\n      return hyperStyle(node, original, isSVG);\n    // the name is an event one,\n    // add/remove event listeners accordingly\n    else if (/^on/.test(name)) {\n      let type = name.slice(2);\n      if (type === CONNECTED || type === DISCONNECTED) {\n        observe(node);\n      }\n      else if (name.toLowerCase()\n        in node) {\n        type = type.toLowerCase();\n      }\n      return newValue => {\n        if (oldValue !== newValue) {\n          if (oldValue)\n            node.removeEventListener(type, oldValue, false);\n          oldValue = newValue;\n          if (newValue)\n            node.addEventListener(type, newValue, false);\n        }\n      };\n    }\n    // the attribute is special ('value' in input)\n    // and it's not SVG *or* the name is exactly data,\n    // in this case assign the value directly\n    else if (\n      name === 'data' ||\n      (!isSVG && name in node && !readOnly.test(name))\n    ) {\n      return newValue => {\n        if (oldValue !== newValue) {\n          oldValue = newValue;\n          if (node[name] !== newValue && newValue == null) {\n            // cleanup on null to avoid silly IE/Edge bug\n            node[name] = '';\n            node.removeAttribute(name);\n          }\n          else\n            node[name] = newValue;\n        }\n      };\n    }\n    else if (name in Intent.attributes) {\n      oldValue;\n      return any => {\n        const newValue = Intent.attributes[name](node, any);\n        if (oldValue !== newValue) {\n          oldValue = newValue;\n          if (newValue == null)\n            node.removeAttribute(name);\n          else\n            node.setAttribute(name, newValue);\n        }\n      };\n    }\n    // in every other case, use the attribute node as it is\n    // update only the value, set it as node only when/if needed\n    else {\n      let owner = false;\n      const attribute = original.cloneNode(true);\n      return newValue => {\n        if (oldValue !== newValue) {\n          oldValue = newValue;\n          if (attribute.value !== newValue) {\n            if (newValue == null) {\n              if (owner) {\n                owner = false;\n                node.removeAttributeNode(attribute);\n              }\n              attribute.value = newValue;\n            } else {\n              attribute.value = newValue;\n              if (!owner) {\n                owner = true;\n                node.setAttributeNode(attribute);\n              }\n            }\n          }\n        }\n      };\n    }\n  },\n\n  // in a hyper(node)`<div>${content}</div>` case\n  // everything could happen:\n  //  * it's a JS primitive, stored as text\n  //  * it's null or undefined, the node should be cleaned\n  //  * it's a component, update the content by rendering it\n  //  * it's a promise, update the content once resolved\n  //  * it's an explicit intent, perform the desired operation\n  //  * it's an Array, resolve all values if Promises and/or\n  //    update the node with the resulting list of content\n  any(node, childNodes) {\n    const diffOptions = {node: asNode, before: node};\n    const nodeType = OWNER_SVG_ELEMENT in node ? /* istanbul ignore next */ 'svg' : 'html';\n    let fastPath = false;\n    let oldValue;\n    const anyContent = value => {\n      switch (typeof value) {\n        case 'string':\n        case 'number':\n        case 'boolean':\n          if (fastPath) {\n            if (oldValue !== value) {\n              oldValue = value;\n              childNodes[0].textContent = value;\n            }\n          } else {\n            fastPath = true;\n            oldValue = value;\n            childNodes = domdiff(\n              node.parentNode,\n              childNodes,\n              [text(node, value)],\n              diffOptions\n            );\n          }\n          break;\n        case 'function':\n          anyContent(value(node));\n          break;\n        case 'object':\n        case 'undefined':\n          if (value == null) {\n            fastPath = false;\n            childNodes = domdiff(\n              node.parentNode,\n              childNodes,\n              [],\n              diffOptions\n            );\n            break;\n          }\n        default:\n          fastPath = false;\n          oldValue = value;\n          if (isArray(value)) {\n            if (value.length === 0) {\n              if (childNodes.length) {\n                childNodes = domdiff(\n                  node.parentNode,\n                  childNodes,\n                  [],\n                  diffOptions\n                );\n              }\n            } else {\n              switch (typeof value[0]) {\n                case 'string':\n                case 'number':\n                case 'boolean':\n                  anyContent({html: value});\n                  break;\n                case 'object':\n                  if (isArray(value[0])) {\n                    value = value.concat.apply([], value);\n                  }\n                  if (isPromise_ish(value[0])) {\n                    Promise.all(value).then(anyContent);\n                    break;\n                  }\n                default:\n                  childNodes = domdiff(\n                    node.parentNode,\n                    childNodes,\n                    value,\n                    diffOptions\n                  );\n                  break;\n              }\n            }\n          } else if (canDiff(value)) {\n            childNodes = domdiff(\n              node.parentNode,\n              childNodes,\n              value.nodeType === DOCUMENT_FRAGMENT_NODE ?\n                slice.call(value.childNodes) :\n                [value],\n              diffOptions\n            );\n          } else if (isPromise_ish(value)) {\n            value.then(anyContent);\n          } else if ('placeholder' in value) {\n            invokeAtDistance(value, anyContent);\n          } else if ('text' in value) {\n            anyContent(String(value.text));\n          } else if ('any' in value) {\n            anyContent(value.any);\n          } else if ('html' in value) {\n            childNodes = domdiff(\n              node.parentNode,\n              childNodes,\n              slice.call(\n                createContent(\n                  [].concat(value.html).join(''),\n                  nodeType\n                ).childNodes\n              ),\n              diffOptions\n            );\n          } else if ('length' in value) {\n            anyContent(slice.call(value));\n          } else {\n            anyContent(Intent.invoke(value, anyContent));\n          }\n          break;\n      }\n    };\n    return anyContent;\n  },\n\n  // style or textareas don't accept HTML as content\n  // it's pointless to transform or analyze anything\n  // different from text there but it's worth checking\n  // for possible defined intents.\n  text(node) {\n    let oldValue;\n    const textContent = value => {\n      if (oldValue !== value) {\n        oldValue = value;\n        const type = typeof value;\n        if (type === 'object' && value) {\n          if (isPromise_ish(value)) {\n            value.then(textContent);\n          } else if ('placeholder' in value) {\n            invokeAtDistance(value, textContent);\n          } else if ('text' in value) {\n            textContent(String(value.text));\n          } else if ('any' in value) {\n            textContent(value.any);\n          } else if ('html' in value) {\n            textContent([].concat(value.html).join(''));\n          } else if ('length' in value) {\n            textContent(slice.call(value).join(''));\n          } else {\n            textContent(Intent.invoke(value, textContent));\n          }\n        } else if (type === 'function') {\n          textContent(value(node));\n        } else {\n          node.textContent = value == null ? '' : value;\n        }\n      }\n    };\n    return textContent;\n  }\n};\n","import WeakMap from '@ungap/weakmap';\n\nvar isNoOp = typeof document !== 'object';\n\nvar templateLiteral = function (tl) {\n  var RAW = 'raw';\n  var isBroken = function (UA) {\n    return /(Firefox|Safari)\\/(\\d+)/.test(UA) &&\n          !/(Chrom[eium]+|Android)\\/(\\d+)/.test(UA);\n  };\n  var broken = isBroken((document.defaultView.navigator || {}).userAgent);\n  var FTS = !(RAW in tl) ||\n            tl.propertyIsEnumerable(RAW) ||\n            !Object.isFrozen(tl[RAW]);\n  if (broken || FTS) {\n    var forever = {};\n    var foreverCache = function (tl) {\n      for (var key = '.', i = 0; i < tl.length; i++)\n        key += tl[i].length + '.' + tl[i];\n      return forever[key] || (forever[key] = tl);\n    };\n    // Fallback TypeScript shenanigans\n    if (FTS)\n      templateLiteral = foreverCache;\n    // try fast path for other browsers:\n    // store the template as WeakMap key\n    // and forever cache it only when it's not there.\n    // this way performance is still optimal,\n    // penalized only when there are GC issues\n    else {\n      var wm = new WeakMap;\n      var set = function (tl, unique) {\n        wm.set(tl, unique);\n        return unique;\n      };\n      templateLiteral = function (tl) {\n        return wm.get(tl) || set(tl, foreverCache(tl));\n      };\n    }\n  } else {\n    isNoOp = true;\n  }\n  return TL(tl);\n};\n\nexport default TL;\n\nfunction TL(tl) {\n  return isNoOp ? tl : templateLiteral(tl);\n}\n","import unique from '@ungap/template-literal';\n\nexport default function (template) {\n  var length = arguments.length;\n  var args = [unique(template)];\n  var i = 1;\n  while (i < length)\n    args.push(arguments[i++]);\n  return args;\n};\n","import WeakMap from '@ungap/weakmap';\nimport tta from '@ungap/template-tag-arguments';\n\nimport Wire from 'hyperhtml-wire';\n\nimport {Tagger} from '../objects/Updates.js';\n\n// all wires used per each context\nconst wires = new WeakMap;\n\n// A wire is a callback used as tag function\n// to lazily relate a generic object to a template literal.\n// hyper.wire(user)`<div id=user>${user.name}</div>`; => the div#user\n// This provides the ability to have a unique DOM structure\n// related to a unique JS object through a reusable template literal.\n// A wire can specify a type, as svg or html, and also an id\n// via html:id or :id convention. Such :id allows same JS objects\n// to be associated to different DOM structures accordingly with\n// the used template literal without losing previously rendered parts.\nconst wire = (obj, type) => obj == null ?\n  content(type || 'html') :\n  weakly(obj, type || 'html');\n\n// A wire content is a virtual reference to one or more nodes.\n// It's represented by either a DOM node, or an Array.\n// In both cases, the wire content role is to simply update\n// all nodes through the list of related callbacks.\n// In few words, a wire content is like an invisible parent node\n// in charge of updating its content like a bound element would do.\nconst content = type => {\n  let wire, tagger, template;\n  return function () {\n    const args = tta.apply(null, arguments);\n    if (template !== args[0]) {\n      template = args[0];\n      tagger = new Tagger(type);\n      wire = wireContent(tagger.apply(tagger, args));\n    } else {\n      tagger.apply(tagger, args);\n    }\n    return wire;\n  };\n};\n\n// wires are weakly created through objects.\n// Each object can have multiple wires associated\n// and this is thanks to the type + :id feature.\nconst weakly = (obj, type) => {\n  const i = type.indexOf(':');\n  let wire = wires.get(obj);\n  let id = type;\n  if (-1 < i) {\n    id = type.slice(i + 1);\n    type = type.slice(0, i) || 'html';\n  }\n  if (!wire)\n    wires.set(obj, wire = {});\n  return wire[id] || (wire[id] = content(type));\n};\n\n// A document fragment loses its nodes \n// as soon as it is appended into another node.\n// This has the undesired effect of losing wired content\n// on a second render call, because (by then) the fragment would be empty:\n// no longer providing access to those sub-nodes that ultimately need to\n// stay associated with the original interpolation.\n// To prevent hyperHTML from forgetting about a fragment's sub-nodes,\n// fragments are instead returned as an Array of nodes or, if there's only one entry,\n// as a single referenced node which, unlike fragments, will indeed persist\n// wire content throughout multiple renderings.\n// The initial fragment, at this point, would be used as unique reference to this\n// array of nodes or to this single referenced node.\nconst wireContent = node => {\n  const childNodes = node.childNodes;\n  const {length} = childNodes;\n  return length === 1 ?\n    childNodes[0] :\n    (length ? new Wire(childNodes) : node);\n};\n\nexport { content, weakly };\nexport default wire;\n","import WeakMap from '@ungap/weakmap';\nimport tta from '@ungap/template-tag-arguments';\n\nimport {OWNER_SVG_ELEMENT} from '../shared/constants.js';\nimport {Tagger} from '../objects/Updates.js';\n\n// a weak collection of contexts that\n// are already known to hyperHTML\nconst bewitched = new WeakMap;\n\n// better known as hyper.bind(node), the render is\n// the main tag function in charge of fully upgrading\n// or simply updating, contexts used as hyperHTML targets.\n// The `this` context is either a regular DOM node or a fragment.\nfunction render() {\n  const wicked = bewitched.get(this);\n  const args = tta.apply(null, arguments);\n  if (wicked && wicked.template === args[0]) {\n    wicked.tagger.apply(null, args);\n  } else {\n    upgrade.apply(this, args);\n  }\n  return this;\n}\n\n// an upgrade is in charge of collecting template info,\n// parse it once, if unknown, to map all interpolations\n// as single DOM callbacks, relate such template\n// to the current context, and render it after cleaning the context up\nfunction upgrade(template) {\n  const type = OWNER_SVG_ELEMENT in this ? 'svg' : 'html';\n  const tagger = new Tagger(type);\n  bewitched.set(this, {tagger, template: template});\n  this.textContent = '';\n  this.appendChild(tagger.apply(null, arguments));\n}\n\nexport default render;\n","/*! (c) Andrea Giammarchi (ISC) */\nimport WeakMap from '@ungap/weakmap';\nimport WeakSet from '@ungap/essential-weakset';\n\nimport diff from 'domdiff';\nimport Component, {setup} from './classes/Component.js';\nimport Intent from './objects/Intent.js';\nimport {observe, Tagger} from './objects/Updates.js';\nimport wire, {content, weakly} from './hyper/wire.js';\nimport render from './hyper/render.js';\n\n// all functions are self bound to the right context\n// you can do the following\n// const {bind, wire} = hyperHTML;\n// and use them right away: bind(node)`hello!`;\nconst bind = context => render.bind(context);\nconst define = Intent.define;\nconst tagger = Tagger.prototype;\n\nhyper.Component = Component;\nhyper.bind = bind;\nhyper.define = define;\nhyper.diff = diff;\nhyper.hyper = hyper;\nhyper.observe = observe;\nhyper.tagger = tagger;\nhyper.wire = wire;\n\n// exported as shared utils\n// for projects based on hyperHTML\n// that don't necessarily need upfront polyfills\n// i.e. those still targeting IE\nhyper._ = {\n  WeakMap,\n  WeakSet\n};\n\n// the wire content is the lazy defined\n// html or svg property of each hyper.Component\nsetup(content);\n\n// everything is exported directly or through the\n// hyperHTML callback, when used as top level script\nexport {Component, bind, define, diff, hyper, observe, tagger, wire};\n\n// by default, hyperHTML is a smart function\n// that \"magically\" understands what's the best\n// thing to do with passed arguments\nexport default function hyper(HTML) {\n  return arguments.length < 2 ?\n    (HTML == null ?\n      content('html') :\n      (typeof HTML === 'string' ?\n        hyper.wire(null, HTML) :\n        ('raw' in HTML ?\n          content('html')(HTML) :\n          ('nodeType' in HTML ?\n            hyper.bind(HTML) :\n            weakly(HTML, 'html')\n          )\n        )\n      )) :\n    ('raw' in HTML ?\n      content('html') : hyper.wire\n    ).apply(null, arguments);\n}\n","import { hyper, Component } from 'hyperhtml';\n\nclass FormElement extends Component {\n  get defaultState() {\n    return {\n      name: '',\n      type: '',\n      label: '',\n      required: false,\n      filled: false\n    };\n  }\n  constructor({name, type, label, required}) {\n    super();\n    const filled = false;\n    this.setState({name, type, label, required, filled});\n  }\n  oninput(e) {\n    this.setState({\n      filled: e.target.value.length > 0\n    });\n  }\n  render() {\n    return this.html`\n      <input id=\"${this.state.name}\" name=\"${this.state.name}\" type=\"${this.state.type}\" autocomplete=\"${this.state.name}\" oninput=${this} class=\"${this.state.filled ? 'filled' : null }\" required=${this.state.required}>\n      <label for=\"${this.state.name}\">${this.state.label}</label>\n    `;\n  }\n}\n\nconst elements = [\n  {\n    el: 'form-name',\n    name: 'name',\n    type: 'text',\n    label: 'Name',\n    required: true\n  },\n  {\n    el: 'form-email',\n    name: 'email',\n    type: 'email',\n    label: 'Email',\n    required: true\n  },\n  {\n    el: 'form-email-confirm',\n    name: 'email_confirmation',\n    type: 'email',\n    label: 'Email address confirmation',\n    required: true\n  },\n  {\n    el: 'form-website',\n    name: 'website',\n    type: 'text',\n    label: 'Website Link (Optional)',\n    required: false\n  }\n];\n\nclass LongFormElement extends Component {\n  get defaultState() {\n    return {\n      name: '',\n      type: '',\n      label: '',\n      required: true,\n      filled: false\n    };\n  }\n  constructor({name, type, label, required}) {\n    super();\n    const filled = false;\n    this.setState({name, type, label, required, filled});\n  }\n  oninput(e) {\n    this.setState({\n      filled: e.target.value.length > 0\n    });\n  }\n  render() {\n    return this.html`\n      <textarea id=\"${this.state.name}\" name=\"${this.state.name}\" rows=\"3\" cols=\"50\" oninput=${this} class=\"${this.state.filled ? 'filled' : null }\" required=\"${this.state.required}\"></textarea>\n      <label for=\"${this.state.name}\">${this.state.label}</label>\n    `;\n  }\n}\n\nclass AlertElement extends Component {\n  get defaultState() {\n    return {\n      classes: 'sans-font alert hide',\n      message: ''\n    };\n  }\n  onsuccess(e) {\n    this.setState({\n      classes: 'sans-font alert alert-success',\n      message: e.detail.message\n    });\n  }\n  onerror(e) {\n    this.setState({\n      classes: 'sans-font alert alert-danger',\n      message: e.detail.message\n    });\n  }\n  render() {\n    return this.html`\n      <div class=${this.state.classes} onsuccess=${this} onerror=${this}>${this.state.message}</div>\n    `;\n  }\n}\n\nexport default function () {\n  return new Promise((resolve) => {\n    elements.forEach((item) => {\n      hyper(document.getElementById(item.el))`${new FormElement(item)}`;\n    });\n\n    hyper(document.getElementById('form-message'))`${new LongFormElement({\n      name: 'message',\n      type: 'textarea',\n      label: 'Message',\n      required: true,\n    })}`;\n\n    hyper(document.getElementById('ajax-message'))`${new AlertElement()}`;\n\n    resolve();\n  });\n};\n","import components from './components.js';\n\nif (typeof window.ga !== 'function') {\n  window.ga = function (ev, d) {\n    console.log(ev, d);\n  };\n}\n\nif ('ontouchstart' in window) {\n  document.documentElement.classList.remove('no-touch');\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  components()\n  .then(() => {\n    const $ = document.querySelectorAll.bind(document);\n\n    Array.from($('#home-clients a, #addresses a, #links a'))\n    .forEach((item) => {\n      item.addEventListener('click', function () {\n        ga('send', {\n          eventAction: 'click',\n          eventCategory: 'external',\n          eventLabel: this.title,\n          hitType: 'event'\n        });\n        return true;\n      });\n    });\n\n    $('#down-button')[0].addEventListener('click', function () {\n      ga('send', {\n        eventAction: 'click',\n        eventCategory: 'internal',\n        eventLabel: this.title,\n        hitType: 'event'\n      });\n    });\n\n    const accordionMenu = $('.accordion-menu .accordion-checkbox');\n\n    // Accordion expand/collapse\n    Array.from(accordionMenu)\n    .map((checkbox) => {\n      checkbox.addEventListener('change', function () {\n        if (this.checked) {\n          this.parentElement.classList.add('show');\n          // log what accordions are getting opened\n          ga('send', {\n            eventAction: 'change',\n            eventCategory: 'accordion',\n            eventLabel: this.id,\n            hitType: 'event'\n          });\n        } else {\n          this.parentElement.classList.remove('show');\n        }\n      });\n    });\n\n    const alert = document.getElementById('ajax-message').children[0];\n    function showSuccess(message) {\n      const alertSuccess = new CustomEvent('success', {\n        detail: { message }\n      });\n      alert.dispatchEvent(alertSuccess);\n    }\n\n    function showError(message) {\n      const alertError = new CustomEvent('error', {\n        detail: { message }\n      });\n      alert.dispatchEvent(alertError);\n    }\n\n    $('#contact-form')[0].addEventListener('submit', function (event) {\n      event.preventDefault();\n      const form = new FormData(this);\n      fetch(this.action, {\n        method: this.method,\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          first_name: form.get('first_name'),\n          name: form.get('name'),\n          email: form.get('email'),\n          email_confirmation: form.get('email_confirmation'),\n          website: form.get('website'),\n          message: form.get('message'),\n          newsletter: form.get('newsletter'),\n        })\n      })\n      .then(res => res.json())\n      .then((res) => {\n        const validationMessage = res.message.length > 1 ? res.message.join(' and ') : res.message;\n        if (res.status) {\n          showSuccess(validationMessage);\n        } else {\n          showError(validationMessage);\n        }\n        ga('send', {\n          eventAction: 'submit',\n          eventCategory: 'form',\n          eventLabel: (res.status) ? 'Success' : 'Fail',\n          hitType: 'event'\n        });\n        return res;\n      })\n      .catch((err) => {\n        console.log(err);\n        showError(err.message);\n        ga('send', {\n          eventAction: 'submit',\n          eventCategory: 'form',\n          eventLabel: 'Fail',\n          hitType: 'event'\n        });\n        return false;\n      });\n    });\n  });\n});\n"],"names":["self","this","WeakMap","id","Object","dP","defineProperty","hOP","hasOwnProperty","proto","prototype","delete","key","has","_","get","call","set","value","configurable","iterable","forEach","add","pair","Math","random","WeakSet","object","Map","i","k","v","had","contains","splice","callback","context","push","indexOf","iOF","append","parent","children","start","end","before","isSelect","noSelection","child","insertBefore","selected","selectedIndex","querySelectorAll","eqeq","a","b","identity","O","moreNodes","moreStart","moreEnd","lessNodes","lessStart","lessEnd","compare","length","m","l","isReversed","futureNodes","futureEnd","currentNodes","currentStart","currentEnd","next","list","nextSibling","remove","removeChild","DELETION","INSERTION","SKIP","SKIP_OND","HS","futureStart","futureChanges","currentChanges","minLen","link","Array","tresh","keymap","idxInOld","findK","newi","oldi","prev","diff","ptr","OND","rows","cols","d","r","c","pv","cv","pd","outer","diffIdx","applyDiff","parentNode","currentLength","live","currentIndex","ktr","j","lo","hi","mid","smartDiff","domdiff","options","node","currentSame","futureSame","CustomEvent","__p__","constructor","type","init","e","document","createEvent","initCustomEvent","bubbles","cancelable","detail","Component","setup","content","create","createEntry","wm","component","Class","info","relation","relate","w","sm","p","defineProperties","for","handleEvent","ct","currentTarget","getAttribute","html","lazyGetter","svg","state","defaultState","dispatch","_wire$","event","dispatchEvent","firstChild","setState","render","target","source","fn","secret","setValue","apply","arguments","ELEMENT_NODE","nodeType","attributes","intents","keys","define","intent","invoke","isArray","toString","$","createContent","FRAGMENT","TEMPLATE","HAS_CONTENT","createHTML","template","innerHTML","childNodes","test","selector","RegExp","$1","markup","createSVG","root","appendChild","element","createDocumentFragment","createElementNS","disconnected","poly","Event","notObserving","observer","observe","startObserving","ownerDocument","connected","MutationObserver","changes","subtree","childList","o_O","timer","records","reschedule","record","clearTimeout","setTimeout","addEventListener","addedNodes","removedNodes","dispatchAll","nodes","wsin","wsout","dispatchTarget","importNode","cloneNode","createTextNode","native","fragment","deep","clone","trim","String","replace","UID","toFixed","UID_IE","tabindex","createElement","slice","meh","UIDC","COMMENT_NODE","TEXT_NODE","SHOULD_USE_TEXT_CONTENT","VOID_ELEMENTS","join","selfClosing","fullClosing","attrSeeker","attrReplacer","spaces","almostEverything","attrName","tagName","attrPartials","findAttributes","$0","$2","$3","replaceAttributes","find","path","parse","holes","parts","childPath","concat","parseAttributes","textContent","shift","nodeName","Text","Any","cache","array","attribute","direct","sparse","split","name","realName","toLowerCase","Attr","skip","cleanValue","attr","removeAttribute","script","setAttributeNode","replaceChild","parsed","referenced","createInfo","convert","sanitize","transform","cleanContent","updates","len","off","any","values","text","Error","update","createDetails","details","domtagger","hyperStyle","IS_NON_DIMENSIONAL","hyphen","original","style","ized","setAttribute","getAttributeNode","toStyle","css","isSVG","oldType","oldValue","newValue","styleValue","cssText","setProperty","Wire","keepFirst","first","last","lastChild","range","createRange","setStartBefore","setEndAfter","deleteContents","valueOf","forceAppend","noFragment","n","DOCUMENT_FRAGMENT_NODE","OWNER_SVG_ELEMENT","CONNECTED","DISCONNECTED","componentType","wireType","asHTML","asNode","item","canDiff","invokeAtDistance","placeholder","Promise","resolve","then","Intent","isPromise_ish","readOnly","Tagger","removeEventListener","owner","removeAttributeNode","diffOptions","fastPath","anyContent","all","isNoOp","templateLiteral","tl","RAW","isBroken","UA","broken","defaultView","navigator","userAgent","FTS","propertyIsEnumerable","isFrozen","forever","foreverCache","unique","TL","args","wires","wire","obj","weakly","tagger","tta","wireContent","bewitched","wicked","upgrade","bind","hyper","HTML","FormElement","label","required","filled","elements","el","LongFormElement","AlertElement","classes","message","getElementById","window","ga","ev","console","log","documentElement","classList","components","from","eventAction","eventCategory","eventLabel","title","hitType","accordionMenu","map","checkbox","checked","parentElement","alert","showSuccess","alertSuccess","showError","alertError","preventDefault","form","FormData","fetch","action","method","headers","body","JSON","stringify","first_name","email","email_confirmation","website","newsletter","res","json","validationMessage","status","catch","err"],"mappings":"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"}